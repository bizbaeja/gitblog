<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Persist</title><meta content="TIL / React Native" name="description"/><meta property="og:site_name" content="Bizbaeja"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/d89f63c69ce6bdaa.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d89f63c69ce6bdaa.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-c52c9402a67f7413.js" defer=""></script><script src="/_next/static/chunks/pages/_app-587f926a3657cc46.js" defer=""></script><script src="/_next/static/chunks/247-89ff6cf4bef5b86f.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-2e6aad114dfdb556.js" defer=""></script><script src="/_next/static/lV0sNbgNHFhW5mim-kloW/_buildManifest.js" defer=""></script><script src="/_next/static/lV0sNbgNHFhW5mim-kloW/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="w-full flex flex-col items-center p-3"><header class="w-full max-w-3xl flex flex-row justify-between items-center my-1"><div class="flex flex-row items-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="로고" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="로고" srcSet="/_next/image?url=%2Fsherlock.jpeg&amp;w=48&amp;q=75 1x, /_next/image?url=%2Fsherlock.jpeg&amp;w=96&amp;q=75 2x" src="/_next/image?url=%2Fsherlock.jpeg&amp;w=96&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" class="rounded-full" loading="lazy"/></noscript></span><span class="mx-2 font-extralight text-lg">땃쥐의 개발블로그</span></div><nav><a class="mr-5 " href="/">Home</a><a class="mr-5 " href="/blog">Blog</a><a class="mr-5 " href="/snack">TIL</a></nav></header><main class="w-full max-w-3xl"><div class="mt-10 prose"><h1 class="text-sky-700">Persist</h1><h2>저장</h2>
<p>persist:지속하다</p>
<p>ToDo 의 목록은 todo 에서만</p>
<p>work 의 목록은 work 에서만 보이고 싶다면?</p>
<p>우리가 렌더링하는 Todo가 working true 혹은 false , 즉 불리언 값을 갖고 있다면 그것을 모드와 비교한다.</p>
<pre><code class="language-jsx">{Object.keys(toDos).map((key) =&gt;
          toDos[key].working === working ? (
            &lt;View style={styles.toDo} key={key}&gt;
              &lt;Text style={styles.toDoText}&gt;{toDos[key].text}&lt;/Text&gt;
            &lt;/View&gt;
</code></pre>
<pre><code class="language-jsx">const addToDo = () =&gt; {
  if (text === &#x27;&#x27;) {
    return;
  }
  //save to do
  const newToDos = { ...toDos, [Date.now()]: { text, working } };
  setTodos(newToDos);
  setText(&#x27;&#x27;);
};
</code></pre>
<h2>읽기</h2>
<p><code>expo install @react-native-async-storage/async-storage</code></p>
<p>*expo install 은 기본적으로 npm install 을 실행시킨다. 그러나 이것을 사용하면 현재 사용중인 expo 버전과 같은 버전의 모듈을 설치한다.</p>
<h3>Storing string value</h3>
<pre><code class="language-jsx">const storeData = async (value) =&gt; {
  try {
    await AsyncStroage.setItem(&#x27;@storage_key&#x27;, value);
  } catch (e) {
    // saving error
  }
};
</code></pre>
<h3>Storing object value</h3>
<pre><code class="language-jsx">const storeDatea = aync(value) {
try {
const jsonValue = JSON.stringify(value)
await AsyncStorage.setItem(&#x27;@storage_key&#x27;, value)
}catch(e)
//saving error
}
</code></pre>
<p>async await 을 사용해야한다.</p>
<p>Object 를 String 으로 바꿔주어야 한다. 마치 브라우저의 local storage 처럼 작동한다.</p>
<hr/>
<h3>Reading Data</h3>
<p><code>getItem</code> returns a promise that either sesolves to stored value when data is found for given key, or returns, <code>null</code> otherwise.</p>
<ul>
<li>주어진 키에 대한 데이터가 발견되면 저장된 값으로 확인하거나 그렇지 않으면 promise 를 반환하거나 <code>null</code> 을 반환한다.</li>
</ul>
<h3>Reading string value</h3>
<pre><code class="language-jsx">const getData = async () =&gt; {
  try {
    const value = await AsyncStorage.getItem(&#x27;storage_Key&#x27;);
    if (value !== null) {
      //value previously sored
    }
  } catch (e) {
    //error reading value
  }
};
</code></pre>
<h3>Reading object value</h3>
<pre><code class="language-jsx">const getData = async () =&gt; {
  try {
    const jsonValue = await AsyncStorage.getItem(&#x27;@storage_Key&#x27;);
    return jsonValue !== null ? JSON.parse(jsonValue) : null;
  } catch (e) {
    //error reading value
  }
};
</code></pre>
<hr/>
<h3>saveTodos function 만들기</h3>
<ul>
<li>JSON.stringify : object 를 string 으로 바꿔줌</li>
</ul>
<p>→ input에 텍스트 입력(toDos)</p>
<p>→ 현재 있는 toDos를 stiring 으로 바꿔주고,</p>
<p>→ await AsyncStorage.setItem 을 해줌.</p>
<p>→ toSave 형태의 toDos 를 받음</p>
<p>→ addToDo 안에서 새로운 object 를 만들기 때문에, newToDos에 saveToDos(newToDos)를 추가</p>
<p>→ newToDos를 state 에 넣어주고 , 또 그 새로운 object 를 saveToDos 함수에 보냄</p>
<pre><code class="language-jsx">const [**toDos**, setTodos] = useState({});
const STORAGE_KEY = “@toDos”;
 (1)const saveToDos = async(toSave) =&gt; {
(3)await AsyncStorage.setItem(&quot;@toDos&quot;,JSON.stringify(&quot;toSave&quot;))
//setItem은 promise 를 리턴할것임
}

const addToDo = async () =&gt; {
    if (text === &quot;&quot;) {
      return;
    }
    //save to do
    const newToDos = { ...toDos, [Date.now()]: { text, working } };
    **setToDos(newToDos);**
  (2)  **saveToDos**(**newToDos**);
    await saveToDos(newToDos);
    setText(&quot;&quot;);
  };
</code></pre>
<p>(1) addToDo function 안에서 새로운 object 를 만들기 때문에,</p>
<p>(2) <strong>newToDos를</strong> state 에 넣어주고 , 또 그 새로운 object 를 saveToDos 함수에 보냄</p>
<p>(3) 에서 saveToDos 는 key 인 “@toDos” 와 함께 AsyncStorage 에 저장하고있고,</p>
<p>저장할 toDos 를 stringify 해주고 있다.(같은 키를 나중에 사용할 것이기 때문에 변수화시킨다)</p>
<p><code>const STORAGE_KEY = “@toDos”;</code></p>
<pre><code class="language-jsx">const [**toDos**, setTodos] = useState({});
const STORAGE_KEY = “@toDos”;
const saveToDos = async(toSave) =&gt; {
await AsyncStorage.setItem(STORAGE_KEY,JSON.stringify(&quot;toSave&quot;))

}

const addToDo = async () =&gt; {
    if (text === &quot;&quot;) {
      return;
    }
    //save to do
    const newToDos = { ...toDos, [Date.now()]: { text, working } };
    **setToDos(newToDos);**
    **saveToDos**(**newToDos**);
    await saveToDos(newToDos);
    setText(&quot;&quot;);
  };
</code></pre>
<hr/>
<h3>loadToDos function 만들기</h3>
<pre><code class="language-jsx">const [**toDos**, setTodos] = useState({});
const STORAGE_KEY = “@toDos”;
const saveToDos = async(toSave) =&gt; {
await AsyncStorage.setItem(STORAGE_KEY,JSON.stringify(&quot;toSave&quot;))
}
const loadingToDos = async()=&gt; {
 const s = await AsyncStorage.getItem(STORAGE_KEY)
 JSON.parse(s);
}

(1)useEffect(()=&gt;{loadToDos()},[])
const addToDo = async () =&gt; {
    if (text === &quot;&quot;) {
      return;
    }
    //save to do
    const newToDos = { ...toDos, [Date.now()]: { text, working } };
    **setToDos(newToDos);**
    **saveToDos**(**newToDos**);
    await saveToDos(newToDos);
    setText(&quot;&quot;);
  };
</code></pre>
<p>(1) component 가 mount 될 때, useEffect 가 실행된다.</p>
<p>(2) s 를 string 으로 만들기 위해 <code>JSON.parse(s)</code> 한다.</p></div></main><footer class="w p-3">만든이 : 배자현</footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Persist","date":"2022-12-23T00:00:00.000Z","description":"TIL / React Native","body":{"raw":"\n## 저장\n\npersist:지속하다\n\nToDo 의 목록은 todo 에서만\n\nwork 의 목록은 work 에서만 보이고 싶다면?\n\n우리가 렌더링하는 Todo가 working true 혹은 false , 즉 불리언 값을 갖고 있다면 그것을 모드와 비교한다.\n\n```jsx\n{Object.keys(toDos).map((key) =\u003e\n          toDos[key].working === working ? (\n            \u003cView style={styles.toDo} key={key}\u003e\n              \u003cText style={styles.toDoText}\u003e{toDos[key].text}\u003c/Text\u003e\n            \u003c/View\u003e\n```\n\n```jsx\nconst addToDo = () =\u003e {\n  if (text === '') {\n    return;\n  }\n  //save to do\n  const newToDos = { ...toDos, [Date.now()]: { text, working } };\n  setTodos(newToDos);\n  setText('');\n};\n```\n\n## 읽기\n\n`expo install @react-native-async-storage/async-storage`\n\n\\*expo install 은 기본적으로 npm install 을 실행시킨다. 그러나 이것을 사용하면 현재 사용중인 expo 버전과 같은 버전의 모듈을 설치한다.\n\n### Storing string value\n\n```jsx\nconst storeData = async (value) =\u003e {\n  try {\n    await AsyncStroage.setItem('@storage_key', value);\n  } catch (e) {\n    // saving error\n  }\n};\n```\n\n### Storing object value\n\n```jsx\nconst storeDatea = aync(value) {\ntry {\nconst jsonValue = JSON.stringify(value)\nawait AsyncStorage.setItem('@storage_key', value)\n}catch(e)\n//saving error\n}\n```\n\nasync await 을 사용해야한다.\n\nObject 를 String 으로 바꿔주어야 한다. 마치 브라우저의 local storage 처럼 작동한다.\n\n---\n\n### Reading Data\n\n`getItem` returns a promise that either sesolves to stored value when data is found for given key, or returns, `null` otherwise.\n\n- 주어진 키에 대한 데이터가 발견되면 저장된 값으로 확인하거나 그렇지 않으면 promise 를 반환하거나 `null` 을 반환한다.\n\n### Reading string value\n\n```jsx\nconst getData = async () =\u003e {\n  try {\n    const value = await AsyncStorage.getItem('storage_Key');\n    if (value !== null) {\n      //value previously sored\n    }\n  } catch (e) {\n    //error reading value\n  }\n};\n```\n\n### Reading object value\n\n```jsx\nconst getData = async () =\u003e {\n  try {\n    const jsonValue = await AsyncStorage.getItem('@storage_Key');\n    return jsonValue !== null ? JSON.parse(jsonValue) : null;\n  } catch (e) {\n    //error reading value\n  }\n};\n```\n\n---\n\n### saveTodos function 만들기\n\n- JSON.stringify : object 를 string 으로 바꿔줌\n\n→ input에 텍스트 입력(toDos)\n\n→ 현재 있는 toDos를 stiring 으로 바꿔주고,\n\n→ await AsyncStorage.setItem 을 해줌.\n\n→ toSave 형태의 toDos 를 받음\n\n→ addToDo 안에서 새로운 object 를 만들기 때문에, newToDos에 saveToDos(newToDos)를 추가\n\n→ newToDos를 state 에 넣어주고 , 또 그 새로운 object 를 saveToDos 함수에 보냄\n\n```jsx\nconst [**toDos**, setTodos] = useState({});\nconst STORAGE_KEY = “@toDos”;\n (1)const saveToDos = async(toSave) =\u003e {\n(3)await AsyncStorage.setItem(\"@toDos\",JSON.stringify(\"toSave\"))\n//setItem은 promise 를 리턴할것임\n}\n\nconst addToDo = async () =\u003e {\n    if (text === \"\") {\n      return;\n    }\n    //save to do\n    const newToDos = { ...toDos, [Date.now()]: { text, working } };\n    **setToDos(newToDos);**\n  (2)  **saveToDos**(**newToDos**);\n    await saveToDos(newToDos);\n    setText(\"\");\n  };\n```\n\n(1) addToDo function 안에서 새로운 object 를 만들기 때문에,\n\n(2) **newToDos를** state 에 넣어주고 , 또 그 새로운 object 를 saveToDos 함수에 보냄\n\n(3) 에서 saveToDos 는 key 인 “@toDos” 와 함께 AsyncStorage 에 저장하고있고,\n\n저장할 toDos 를 stringify 해주고 있다.(같은 키를 나중에 사용할 것이기 때문에 변수화시킨다)\n\n`const STORAGE_KEY = “@toDos”;`\n\n```jsx\nconst [**toDos**, setTodos] = useState({});\nconst STORAGE_KEY = “@toDos”;\nconst saveToDos = async(toSave) =\u003e {\nawait AsyncStorage.setItem(STORAGE_KEY,JSON.stringify(\"toSave\"))\n\n}\n\nconst addToDo = async () =\u003e {\n    if (text === \"\") {\n      return;\n    }\n    //save to do\n    const newToDos = { ...toDos, [Date.now()]: { text, working } };\n    **setToDos(newToDos);**\n    **saveToDos**(**newToDos**);\n    await saveToDos(newToDos);\n    setText(\"\");\n  };\n```\n\n---\n\n### loadToDos function 만들기\n\n```jsx\nconst [**toDos**, setTodos] = useState({});\nconst STORAGE_KEY = “@toDos”;\nconst saveToDos = async(toSave) =\u003e {\nawait AsyncStorage.setItem(STORAGE_KEY,JSON.stringify(\"toSave\"))\n}\nconst loadingToDos = async()=\u003e {\n const s = await AsyncStorage.getItem(STORAGE_KEY)\n JSON.parse(s);\n}\n\n(1)useEffect(()=\u003e{loadToDos()},[])\nconst addToDo = async () =\u003e {\n    if (text === \"\") {\n      return;\n    }\n    //save to do\n    const newToDos = { ...toDos, [Date.now()]: { text, working } };\n    **setToDos(newToDos);**\n    **saveToDos**(**newToDos**);\n    await saveToDos(newToDos);\n    setText(\"\");\n  };\n```\n\n(1) component 가 mount 될 때, useEffect 가 실행된다.\n\n(2) s 를 string 으로 만들기 위해 `JSON.parse(s)` 한다.\n","code":"var Component=(()=\u003e{var ln=Object.create;var L=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var dn=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty;var F=(i,n)=\u003e()=\u003e(n||i((n={exports:{}}).exports,n),n.exports),mn=(i,n)=\u003e{for(var d in n)L(i,d,{get:n[d],enumerable:!0})},Ee=(i,n,d,v)=\u003e{if(n\u0026\u0026typeof n==\"object\"||typeof n==\"function\")for(let g of cn(n))!fn.call(i,g)\u0026\u0026g!==d\u0026\u0026L(i,g,{get:()=\u003en[g],enumerable:!(v=un(n,g))||v.enumerable});return i};var bn=(i,n,d)=\u003e(d=i!=null?ln(dn(i)):{},Ee(n||!i||!i.__esModule?L(d,\"default\",{value:i,enumerable:!0}):d,i)),gn=i=\u003eEe(L({},\"__esModule\",{value:!0}),i);var De=F((Dn,Te)=\u003e{Te.exports=React});var Oe=F((wn,Re)=\u003e{\"use strict\";var we=Object.getOwnPropertySymbols,_n=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable;function hn(i){if(i==null)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(i)}function vn(){try{if(!Object.assign)return!1;var i=new String(\"abc\");if(i[5]=\"de\",Object.getOwnPropertyNames(i)[0]===\"5\")return!1;for(var n={},d=0;d\u003c10;d++)n[\"_\"+String.fromCharCode(d)]=d;var v=Object.getOwnPropertyNames(n).map(function(h){return n[h]});if(v.join(\"\")!==\"0123456789\")return!1;var g={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(h){g[h]=h}),Object.keys(Object.assign({},g)).join(\"\")===\"abcdefghijklmnopqrst\"}catch{return!1}}Re.exports=vn()?Object.assign:function(i,n){for(var d,v=hn(i),g,h=1;h\u003carguments.length;h++){d=Object(arguments[h]);for(var T in d)_n.call(d,T)\u0026\u0026(v[T]=d[T]);if(we){g=we(d);for(var x=0;x\u003cg.length;x++)pn.call(d,g[x])\u0026\u0026(v[g[x]]=d[g[x]])}}return v}});var je=F(D=\u003e{\"use strict\";(function(){\"use strict\";var i=De(),n=Oe(),d=60103,v=60106;D.Fragment=60107;var g=60108,h=60114,T=60109,x=60110,j=60112,C=60113,A=60120,U=60115,k=60116,I=60121,H=60122,Q=60117,Ce=60119,Ae=60128,Z=60129,ke=60130,ee=60131;if(typeof Symbol==\"function\"\u0026\u0026Symbol.for){var m=Symbol.for;d=m(\"react.element\"),v=m(\"react.portal\"),D.Fragment=m(\"react.fragment\"),g=m(\"react.strict_mode\"),h=m(\"react.profiler\"),T=m(\"react.provider\"),x=m(\"react.context\"),j=m(\"react.forward_ref\"),C=m(\"react.suspense\"),A=m(\"react.suspense_list\"),U=m(\"react.memo\"),k=m(\"react.lazy\"),I=m(\"react.block\"),H=m(\"react.server.block\"),Q=m(\"react.fundamental\"),Ce=m(\"react.scope\"),Ae=m(\"react.opaque.id\"),Z=m(\"react.debug_trace_mode\"),ke=m(\"react.offscreen\"),ee=m(\"react.legacy_hidden\")}var ne=typeof Symbol==\"function\"\u0026\u0026Symbol.iterator,Ie=\"@@iterator\";function Ye(e){if(e===null||typeof e!=\"object\")return null;var r=ne\u0026\u0026e[ne]||e[Ie];return typeof r==\"function\"?r:null}var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function p(e){{for(var r=arguments.length,a=new Array(r\u003e1?r-1:0),o=1;o\u003cr;o++)a[o-1]=arguments[o];Ve(\"error\",e,a)}}function Ve(e,r,a){{var o=w.ReactDebugCurrentFrame,u=o.getStackAddendum();u!==\"\"\u0026\u0026(r+=\"%s\",a=a.concat([u]));var c=a.map(function(l){return\"\"+l});c.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,c)}}var $e=!1;function We(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===D.Fragment||e===h||e===Z||e===g||e===C||e===A||e===ee||$e||typeof e==\"object\"\u0026\u0026e!==null\u0026\u0026(e.$$typeof===k||e.$$typeof===U||e.$$typeof===T||e.$$typeof===x||e.$$typeof===j||e.$$typeof===Q||e.$$typeof===I||e[0]===H))}function Le(e,r,a){var o=r.displayName||r.name||\"\";return e.displayName||(o!==\"\"?a+\"(\"+o+\")\":a)}function re(e){return e.displayName||\"Context\"}function N(e){if(e==null)return null;if(typeof e.tag==\"number\"\u0026\u0026p(\"Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case D.Fragment:return\"Fragment\";case v:return\"Portal\";case h:return\"Profiler\";case g:return\"StrictMode\";case C:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case x:var r=e;return re(r)+\".Consumer\";case T:var a=e;return re(a._context)+\".Provider\";case j:return Le(e,e.render,\"ForwardRef\");case U:return N(e.type);case I:return N(e._render);case k:{var o=e,u=o._payload,c=o._init;try{return N(c(u))}catch{return null}}}return null}var S=0,te,ae,oe,se,ie,le,ue;function ce(){}ce.__reactDisabledLog=!0;function Fe(){{if(S===0){te=console.log,ae=console.info,oe=console.warn,se=console.error,ie=console.group,le=console.groupCollapsed,ue=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ce,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}S++}}function Me(){{if(S--,S===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:n({},e,{value:te}),info:n({},e,{value:ae}),warn:n({},e,{value:oe}),error:n({},e,{value:se}),group:n({},e,{value:ie}),groupCollapsed:n({},e,{value:le}),groupEnd:n({},e,{value:ue})})}S\u003c0\u0026\u0026p(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var M=w.ReactCurrentDispatcher,G;function Y(e,r,a){{if(G===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\\n( *(at )?)/);G=o\u0026\u0026o[1]||\"\"}return`\n`+G+e}}var K=!1,V;{var Ge=typeof WeakMap==\"function\"?WeakMap:Map;V=new Ge}function de(e,r){if(!e||K)return\"\";{var a=V.get(e);if(a!==void 0)return a}var o;K=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var c;c=M.current,M.current=null,Fe();try{if(r){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"\u0026\u0026Reflect.construct){try{Reflect.construct(l,[])}catch(E){o=E}Reflect.construct(e,[],l)}else{try{l.call()}catch(E){o=E}e.call(l.prototype)}}else{try{throw Error()}catch(E){o=E}e()}}catch(E){if(E\u0026\u0026o\u0026\u0026typeof E.stack==\"string\"){for(var s=E.stack.split(`\n`),_=o.stack.split(`\n`),f=s.length-1,b=_.length-1;f\u003e=1\u0026\u0026b\u003e=0\u0026\u0026s[f]!==_[b];)b--;for(;f\u003e=1\u0026\u0026b\u003e=0;f--,b--)if(s[f]!==_[b]){if(f!==1||b!==1)do if(f--,b--,b\u003c0||s[f]!==_[b]){var y=`\n`+s[f].replace(\" at new \",\" at \");return typeof e==\"function\"\u0026\u0026V.set(e,y),y}while(f\u003e=1\u0026\u0026b\u003e=0);break}}}finally{K=!1,M.current=c,Me(),Error.prepareStackTrace=u}var O=e?e.displayName||e.name:\"\",ye=O?Y(O):\"\";return typeof e==\"function\"\u0026\u0026V.set(e,ye),ye}function fe(e,r,a){return de(e,!1)}function Ke(e){var r=e.prototype;return!!(r\u0026\u0026r.isReactComponent)}function $(e,r,a){if(e==null)return\"\";if(typeof e==\"function\")return de(e,Ke(e));if(typeof e==\"string\")return Y(e);switch(e){case C:return Y(\"Suspense\");case A:return Y(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case j:return fe(e.render);case U:return $(e.type,r,a);case I:return fe(e._render);case k:{var o=e,u=o._payload,c=o._init;try{return $(c(u),r,a)}catch{}}}return\"\"}var me={},be=w.ReactDebugCurrentFrame;function W(e){if(e){var r=e._owner,a=$(e.type,e._source,r?r.type:null);be.setExtraStackFrame(a)}else be.setExtraStackFrame(null)}function Be(e,r,a,o,u){{var c=Function.call.bind(Object.prototype.hasOwnProperty);for(var l in e)if(c(e,l)){var s=void 0;try{if(typeof e[l]!=\"function\"){var _=Error((o||\"React class\")+\": \"+a+\" type `\"+l+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[l]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw _.name=\"Invariant Violation\",_}s=e[l](r,l,o,a,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(f){s=f}s\u0026\u0026!(s instanceof Error)\u0026\u0026(W(u),p(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",a,l,typeof s),W(null)),s instanceof Error\u0026\u0026!(s.message in me)\u0026\u0026(me[s.message]=!0,W(u),p(\"Failed %s type: %s\",a,s.message),W(null))}}}var P=w.ReactCurrentOwner,B=Object.prototype.hasOwnProperty,qe={key:!0,ref:!0,__self:!0,__source:!0},ge,_e,q;q={};function Je(e){if(B.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r\u0026\u0026r.isReactWarning)return!1}return e.ref!==void 0}function ze(e){if(B.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r\u0026\u0026r.isReactWarning)return!1}return e.key!==void 0}function Xe(e,r){if(typeof e.ref==\"string\"\u0026\u0026P.current\u0026\u0026r\u0026\u0026P.current.stateNode!==r){var a=N(P.current.type);q[a]||(p('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N(P.current.type),e.ref),q[a]=!0)}}function He(e,r){{var a=function(){ge||(ge=!0,p(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};a.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:a,configurable:!0})}}function Qe(e,r){{var a=function(){_e||(_e=!0,p(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};a.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:a,configurable:!0})}}var Ze=function(e,r,a,o,u,c,l){var s={$$typeof:d,type:e,key:r,ref:a,props:l,_owner:c};return s._store={},Object.defineProperty(s._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(s,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:u}),Object.freeze\u0026\u0026(Object.freeze(s.props),Object.freeze(s)),s};function en(e,r,a,o,u){{var c,l={},s=null,_=null;a!==void 0\u0026\u0026(s=\"\"+a),ze(r)\u0026\u0026(s=\"\"+r.key),Je(r)\u0026\u0026(_=r.ref,Xe(r,u));for(c in r)B.call(r,c)\u0026\u0026!qe.hasOwnProperty(c)\u0026\u0026(l[c]=r[c]);if(e\u0026\u0026e.defaultProps){var f=e.defaultProps;for(c in f)l[c]===void 0\u0026\u0026(l[c]=f[c])}if(s||_){var b=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;s\u0026\u0026He(l,b),_\u0026\u0026Qe(l,b)}return Ze(e,s,_,u,o,P.current,l)}}var J=w.ReactCurrentOwner,pe=w.ReactDebugCurrentFrame;function R(e){if(e){var r=e._owner,a=$(e.type,e._source,r?r.type:null);pe.setExtraStackFrame(a)}else pe.setExtraStackFrame(null)}var z;z=!1;function X(e){return typeof e==\"object\"\u0026\u0026e!==null\u0026\u0026e.$$typeof===d}function he(){{if(J.current){var e=N(J.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function nn(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),a=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+a+\".\"}return\"\"}}var ve={};function rn(e){{var r=he();if(!r){var a=typeof e==\"string\"?e:e.displayName||e.name;a\u0026\u0026(r=`\n\nCheck the top-level render call using \u003c`+a+\"\u003e.\")}return r}}function Ne(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var a=rn(r);if(ve[a])return;ve[a]=!0;var o=\"\";e\u0026\u0026e._owner\u0026\u0026e._owner!==J.current\u0026\u0026(o=\" It was passed a child from \"+N(e._owner.type)+\".\"),R(e),p('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',a,o),R(null)}}function xe(e,r){{if(typeof e!=\"object\")return;if(Array.isArray(e))for(var a=0;a\u003ce.length;a++){var o=e[a];X(o)\u0026\u0026Ne(o,r)}else if(X(e))e._store\u0026\u0026(e._store.validated=!0);else if(e){var u=Ye(e);if(typeof u==\"function\"\u0026\u0026u!==e.entries)for(var c=u.call(e),l;!(l=c.next()).done;)X(l.value)\u0026\u0026Ne(l.value,r)}}}function tn(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var a;if(typeof r==\"function\")a=r.propTypes;else if(typeof r==\"object\"\u0026\u0026(r.$$typeof===j||r.$$typeof===U))a=r.propTypes;else return;if(a){var o=N(r);Be(a,e.props,\"prop\",o,e)}else if(r.PropTypes!==void 0\u0026\u0026!z){z=!0;var u=N(r);p(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",u||\"Unknown\")}typeof r.getDefaultProps==\"function\"\u0026\u0026!r.getDefaultProps.isReactClassApproved\u0026\u0026p(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function an(e){{for(var r=Object.keys(e.props),a=0;a\u003cr.length;a++){var o=r[a];if(o!==\"children\"\u0026\u0026o!==\"key\"){R(e),p(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),R(null);break}}e.ref!==null\u0026\u0026(R(e),p(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),R(null))}}function on(e,r,a,o,u,c){{var l=We(e);if(!l){var s=\"\";(e===void 0||typeof e==\"object\"\u0026\u0026e!==null\u0026\u0026Object.keys(e).length===0)\u0026\u0026(s+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var _=nn(u);_?s+=_:s+=he();var f;e===null?f=\"null\":Array.isArray(e)?f=\"array\":e!==void 0\u0026\u0026e.$$typeof===d?(f=\"\u003c\"+(N(e.type)||\"Unknown\")+\" /\u003e\",s=\" Did you accidentally export a JSX literal instead of a component?\"):f=typeof e,p(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",f,s)}var b=en(e,r,a,u,c);if(b==null)return b;if(l){var y=r.children;if(y!==void 0)if(o)if(Array.isArray(y)){for(var O=0;O\u003cy.length;O++)xe(y[O],e);Object.freeze\u0026\u0026Object.freeze(y)}else p(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else xe(y,e)}return e===D.Fragment?an(b):tn(b),b}}var sn=on;D.jsxDEV=sn})()});var Se=F((On,Ue)=\u003e{\"use strict\";Ue.exports=je()});var En={};mn(En,{default:()=\u003eyn,frontmatter:()=\u003eNn});var t=bn(Se()),Nn={title:\"Persist\",date:new Date(16717536e5),description:\"TIL / React Native\"};function Pe(i){let n=Object.assign({h2:\"h2\",p:\"p\",pre:\"pre\",code:\"code\",h3:\"h3\",hr:\"hr\",ul:\"ul\",li:\"li\",strong:\"strong\"},i.components);return(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(n.h2,{children:\"\\uC800\\uC7A5\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"persist:\\uC9C0\\uC18D\\uD558\\uB2E4\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:9,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"ToDo \\uC758 \\uBAA9\\uB85D\\uC740 todo \\uC5D0\\uC11C\\uB9CC\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:11,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"work \\uC758 \\uBAA9\\uB85D\\uC740 work \\uC5D0\\uC11C\\uB9CC \\uBCF4\\uC774\\uACE0 \\uC2F6\\uB2E4\\uBA74?\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:13,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"\\uC6B0\\uB9AC\\uAC00 \\uB80C\\uB354\\uB9C1\\uD558\\uB294 Todo\\uAC00 working true \\uD639\\uC740 false , \\uC989 \\uBD88\\uB9AC\\uC5B8 \\uAC12\\uC744 \\uAC16\\uACE0 \\uC788\\uB2E4\\uBA74 \\uADF8\\uAC83\\uC744 \\uBAA8\\uB4DC\\uC640 \\uBE44\\uAD50\\uD55C\\uB2E4.\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`{Object.keys(toDos).map((key) =\u003e\n          toDos[key].working === working ? (\n            \u003cView style={styles.toDo} key={key}\u003e\n              \u003cText style={styles.toDoText}\u003e{toDos[key].text}\u003c/Text\u003e\n            \u003c/View\u003e\n`},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:17,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const addToDo = () =\u003e {\n  if (text === '') {\n    return;\n  }\n  //save to do\n  const newToDos = { ...toDos, [Date.now()]: { text, working } };\n  setTodos(newToDos);\n  setText('');\n};\n`},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:25,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{children:\"\\uC77D\\uAE30\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.code,{children:\"expo install @react-native-async-storage/async-storage\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:39,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"*expo install \\uC740 \\uAE30\\uBCF8\\uC801\\uC73C\\uB85C npm install \\uC744 \\uC2E4\\uD589\\uC2DC\\uD0A8\\uB2E4. \\uADF8\\uB7EC\\uB098 \\uC774\\uAC83\\uC744 \\uC0AC\\uC6A9\\uD558\\uBA74 \\uD604\\uC7AC \\uC0AC\\uC6A9\\uC911\\uC778 expo \\uBC84\\uC804\\uACFC \\uAC19\\uC740 \\uBC84\\uC804\\uC758 \\uBAA8\\uB4C8\\uC744 \\uC124\\uCE58\\uD55C\\uB2E4.\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Storing string value\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const storeData = async (value) =\u003e {\n  try {\n    await AsyncStroage.setItem('@storage_key', value);\n  } catch (e) {\n    // saving error\n  }\n};\n`},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:45,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Storing object value\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const storeDatea = aync(value) {\ntry {\nconst jsonValue = JSON.stringify(value)\nawait AsyncStorage.setItem('@storage_key', value)\n}catch(e)\n//saving error\n}\n`},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:57,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"async await \\uC744 \\uC0AC\\uC6A9\\uD574\\uC57C\\uD55C\\uB2E4.\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Object \\uB97C String \\uC73C\\uB85C \\uBC14\\uAFD4\\uC8FC\\uC5B4\\uC57C \\uD55C\\uB2E4. \\uB9C8\\uCE58 \\uBE0C\\uB77C\\uC6B0\\uC800\\uC758 local storage \\uCC98\\uB7FC \\uC791\\uB3D9\\uD55C\\uB2E4.\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.hr,{},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:71,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Reading Data\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:73,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[(0,t.jsxDEV)(n.code,{children:\"getItem\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:75,columnNumber:1},this),\" returns a promise that either sesolves to stored value when data is found for given key, or returns, \",(0,t.jsxDEV)(n.code,{children:\"null\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:75,columnNumber:112},this),\" otherwise.\"]},void 0,!0,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:[\"\\uC8FC\\uC5B4\\uC9C4 \\uD0A4\\uC5D0 \\uB300\\uD55C \\uB370\\uC774\\uD130\\uAC00 \\uBC1C\\uACAC\\uB418\\uBA74 \\uC800\\uC7A5\\uB41C \\uAC12\\uC73C\\uB85C \\uD655\\uC778\\uD558\\uAC70\\uB098 \\uADF8\\uB807\\uC9C0 \\uC54A\\uC73C\\uBA74 promise \\uB97C \\uBC18\\uD658\\uD558\\uAC70\\uB098 \",(0,t.jsxDEV)(n.code,{children:\"null\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:77,columnNumber:61},this),\" \\uC744 \\uBC18\\uD658\\uD55C\\uB2E4.\"]},void 0,!0,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:77,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:77,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Reading string value\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:79,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const getData = async () =\u003e {\n  try {\n    const value = await AsyncStorage.getItem('storage_Key');\n    if (value !== null) {\n      //value previously sored\n    }\n  } catch (e) {\n    //error reading value\n  }\n};\n`},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:81,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:81,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Reading object value\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:94,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const getData = async () =\u003e {\n  try {\n    const jsonValue = await AsyncStorage.getItem('@storage_Key');\n    return jsonValue !== null ? JSON.parse(jsonValue) : null;\n  } catch (e) {\n    //error reading value\n  }\n};\n`},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:96,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:96,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.hr,{},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:107,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"saveTodos function \\uB9CC\\uB4E4\\uAE30\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:109,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:\"JSON.stringify : object \\uB97C string \\uC73C\\uB85C \\uBC14\\uAFD4\\uC90C\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:111,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:111,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"\\u2192 input\\uC5D0 \\uD14D\\uC2A4\\uD2B8 \\uC785\\uB825(toDos)\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:113,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"\\u2192 \\uD604\\uC7AC \\uC788\\uB294 toDos\\uB97C stiring \\uC73C\\uB85C \\uBC14\\uAFD4\\uC8FC\\uACE0,\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:115,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"\\u2192 await AsyncStorage.setItem \\uC744 \\uD574\\uC90C.\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:117,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"\\u2192 toSave \\uD615\\uD0DC\\uC758 toDos \\uB97C \\uBC1B\\uC74C\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:119,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"\\u2192 addToDo \\uC548\\uC5D0\\uC11C \\uC0C8\\uB85C\\uC6B4 object \\uB97C \\uB9CC\\uB4E4\\uAE30 \\uB54C\\uBB38\\uC5D0, newToDos\\uC5D0 saveToDos(newToDos)\\uB97C \\uCD94\\uAC00\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:121,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"\\u2192 newToDos\\uB97C state \\uC5D0 \\uB123\\uC5B4\\uC8FC\\uACE0 , \\uB610 \\uADF8 \\uC0C8\\uB85C\\uC6B4 object \\uB97C saveToDos \\uD568\\uC218\\uC5D0 \\uBCF4\\uB0C4\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const [**toDos**, setTodos] = useState({});\nconst STORAGE_KEY = \\u201C@toDos\\u201D;\n (1)const saveToDos = async(toSave) =\u003e {\n(3)await AsyncStorage.setItem(\"@toDos\",JSON.stringify(\"toSave\"))\n//setItem\\uC740 promise \\uB97C \\uB9AC\\uD134\\uD560\\uAC83\\uC784\n}\n\nconst addToDo = async () =\u003e {\n    if (text === \"\") {\n      return;\n    }\n    //save to do\n    const newToDos = { ...toDos, [Date.now()]: { text, working } };\n    **setToDos(newToDos);**\n  (2)  **saveToDos**(**newToDos**);\n    await saveToDos(newToDos);\n    setText(\"\");\n  };\n`},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:125,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:125,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"(1) addToDo function \\uC548\\uC5D0\\uC11C \\uC0C8\\uB85C\\uC6B4 object \\uB97C \\uB9CC\\uB4E4\\uAE30 \\uB54C\\uBB38\\uC5D0,\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:146,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"(2) \",(0,t.jsxDEV)(n.strong,{children:\"newToDos\\uB97C\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:148,columnNumber:5},this),\" state \\uC5D0 \\uB123\\uC5B4\\uC8FC\\uACE0 , \\uB610 \\uADF8 \\uC0C8\\uB85C\\uC6B4 object \\uB97C saveToDos \\uD568\\uC218\\uC5D0 \\uBCF4\\uB0C4\"]},void 0,!0,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:148,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"(3) \\uC5D0\\uC11C saveToDos \\uB294 key \\uC778 \\u201C@toDos\\u201D \\uC640 \\uD568\\uAED8 AsyncStorage \\uC5D0 \\uC800\\uC7A5\\uD558\\uACE0\\uC788\\uACE0,\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:150,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"\\uC800\\uC7A5\\uD560 toDos \\uB97C stringify \\uD574\\uC8FC\\uACE0 \\uC788\\uB2E4.(\\uAC19\\uC740 \\uD0A4\\uB97C \\uB098\\uC911\\uC5D0 \\uC0AC\\uC6A9\\uD560 \\uAC83\\uC774\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uBCC0\\uC218\\uD654\\uC2DC\\uD0A8\\uB2E4)\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:152,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.code,{children:\"const STORAGE_KEY = \\u201C@toDos\\u201D;\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:154,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:154,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const [**toDos**, setTodos] = useState({});\nconst STORAGE_KEY = \\u201C@toDos\\u201D;\nconst saveToDos = async(toSave) =\u003e {\nawait AsyncStorage.setItem(STORAGE_KEY,JSON.stringify(\"toSave\"))\n\n}\n\nconst addToDo = async () =\u003e {\n    if (text === \"\") {\n      return;\n    }\n    //save to do\n    const newToDos = { ...toDos, [Date.now()]: { text, working } };\n    **setToDos(newToDos);**\n    **saveToDos**(**newToDos**);\n    await saveToDos(newToDos);\n    setText(\"\");\n  };\n`},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:156,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:156,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.hr,{},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:177,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"loadToDos function \\uB9CC\\uB4E4\\uAE30\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:179,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const [**toDos**, setTodos] = useState({});\nconst STORAGE_KEY = \\u201C@toDos\\u201D;\nconst saveToDos = async(toSave) =\u003e {\nawait AsyncStorage.setItem(STORAGE_KEY,JSON.stringify(\"toSave\"))\n}\nconst loadingToDos = async()=\u003e {\n const s = await AsyncStorage.getItem(STORAGE_KEY)\n JSON.parse(s);\n}\n\n(1)useEffect(()=\u003e{loadToDos()},[])\nconst addToDo = async () =\u003e {\n    if (text === \"\") {\n      return;\n    }\n    //save to do\n    const newToDos = { ...toDos, [Date.now()]: { text, working } };\n    **setToDos(newToDos);**\n    **saveToDos**(**newToDos**);\n    await saveToDos(newToDos);\n    setText(\"\");\n  };\n`},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:181,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:181,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"(1) component \\uAC00 mount \\uB420 \\uB54C, useEffect \\uAC00 \\uC2E4\\uD589\\uB41C\\uB2E4.\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:206,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"(2) s \\uB97C string \\uC73C\\uB85C \\uB9CC\\uB4E4\\uAE30 \\uC704\\uD574 \",(0,t.jsxDEV)(n.code,{children:\"JSON.parse(s)\"},void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:208,columnNumber:26},this),\" \\uD55C\\uB2E4.\"]},void 0,!0,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:208,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\",lineNumber:1,columnNumber:1},this)}function xn(i={}){let{wrapper:n}=i.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},i,{children:(0,t.jsxDEV)(Pe,i,void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\"},this)}),void 0,!1,{fileName:\"/Users/aeong/gitblog/posts/_mdx_bundler_entry_point-7f0562ea-704f-4ce6-853a-4d368ce25eeb.mdx\"},this):Pe(i)}var yn=xn;return gn(En);})();\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n/** @license React v17.0.2\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n;return Component;"},"_id":"36th.mdx","_raw":{"sourceFilePath":"36th.mdx","sourceFileName":"36th.mdx","sourceFileDir":".","contentType":"mdx","flattenedPath":"36th"},"type":"Post"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"36th"},"buildId":"lV0sNbgNHFhW5mim-kloW","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>